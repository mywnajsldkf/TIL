 ## PID 제어란

제어공부를 하다보면 접할 수 있는 PID제어에 대해 정리한다.

### PID제어란?

원하는 값에 도달하기 위한 피드백 제어 방법 중 하나이다.
$$
e(t) : 오차값, 목표값에서 현재값을 뺀 값
$$

$$
MV(t) : 제어량, 현재값에서 목표값에 도달하기 위해 제어기에 줄 값
$$

$$
MV(t) = kp*e(t) + Ki*(integral)e(t)+Kd*(derivate)*e(t)
$$

![PID_Compensation_Animated](https://upload.wikimedia.org/wikipedia/commons/3/33/PID_Compensation_Animated.gif)

#### P제어 

Proportion(비례) 제어로 오차량만큼 제어량을 준다.

오차가 크면 제어량이 크고, 오차가 적으면 제어량이 적다.  

목표값에 도달하는 속도가 괜찮은 편이지만 목표값에 가까워지면 더이상 목표값에 수렴하지 못하고 어느정도 오차가 있는 상태에서 더이상 제어가 되지 않는다. 이런 것을 잔류편차가 생긴다고 한다. 

#### PI 제어

Proportion제어에 Intergral을 추가해서 만든 PI제어이다. 

오차의 비례값과 오차의 누적값을 바탕으로 제어량을 사용해 P제어의 문제인 오차값을 낮춘다.

이를 통해 목표값에 정확히 수렴할 수 있게 한다.

다만 도달하는데 시간이 많이 걸리고, 급격한 변화에 대응하기 어렵다.

#### PID제어

PI제어에 Derivate 미분항을 추가해 급격한 변화에도 대응하고, 도달시간을 줄인다.



### Kp, Ki, Kd 적절한 값들은 어떻게 찾을까?

1. Kp, p 게인

   > 목표치에 가는 정도를 결정한다.

   **p게인이 너무 낮다**
   목표값에 도달하기 어렵다. 제어량이 충분치 않기 때문에 시간도 오래 걸리고 제어에 어려움을 겪기도 한다.

   **p게인이 너무 높다** 

   제어량이 커서 진동을 한다.

2. Ki, i 게인

   > 목표치에 대한 정확도를 결정하는 상수를 말한다.

   **i게인이 낮다** 

   목표치에 근접하기 어렵다.

   **i게인이 높다**

   시간이 오래 걸리고, 외부 변화에 잘 대응하지 않는다.

3. Kd, d게인

   > 목표치에 대한 속도를 결정하는 상수를 말한다.

   p게인으로 부족한 제어량을 보충해주는 역할을 한다. (순간 제어량을 높이면서 목표치에 도달시키는 역할)

   **d게인이 낮다**

   시간이 오래 걸린다.

   **d게인이 너무 크다.**

   진동이 생긴다.